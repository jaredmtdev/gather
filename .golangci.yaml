version: "2"

formatters:
  enable:
    - gofmt 
    - gci 

linters:
  enable:
    - asasalint
    - asciicheck 
    - bidichk 
    - bodyclose 
    - canonicalheader 
    - copyloopvar 
    - cyclop 
    - depguard 
    - dupl 
    - durationcheck 
    - embeddedstructfieldcheck 
    - err113
    - errcheck 
    - errname 
    - errorlint 
    - exhaustive 
    - exptostd 
    - fatcontext 
    - forbidigo 
    - funcorder 
    - funlen 
    - gocheckcompilerdirectives 
    - gochecknoglobals 
    - gochecknoinits 
    - gochecksumtype 
    - gocognit 
    - goconst 
    - gocritic 
    - gocyclo 
    - godot 
    - gomoddirectives 
    - goprintffuncname 
    - gosec 
    - govet 
    - iface 
    - ineffassign 
    - intrange 
    - loggercheck 
    - makezero 
    - mirror 
    - misspell
    - mnd 
    - musttag 
    - nakedret 
    - nestif 
    - nilerr 
    - nilnesserr 
    - nilnil 
    - noctx 
    - nolintlint 
    - nonamedreturns 
    - nosprintfhostport 
    - perfsprint 
    - predeclared 
    - promlinter 
    - protogetter 
    - reassign 
    - recvcheck 
    - revive 
    - rowserrcheck 
    - spancheck 
    - sqlclosecheck 
    - staticcheck 
    - testableexamples 
    - testifylint 
    - testpackage 
    - tparallel 
    - unconvert
    - unparam
    - usestdlibvars
    - usetesting
    - wastedassign
    - whitespace


  settings:
    depguard:
      rules:
        testify:
          files:
            - "**/*.go"
            - "**/*_test.go"
          deny:
            - pkg: github.com/stretchr/testify/...
              desc: "testify is allowed in tests"
    gocognit:
      min-complexity: 15

  exclusions:
    paths:
      - ^examples/futureideas/
    rules:
    - path: _test.go$
      linters: [gosec]
      text: G404 
    - path: _test.go$
      linters: [err113,revive]
    - path: ^examples/
      linters: [revive]
      text: package-comments
    - path: ^examples/
      linters: [mnd]
    - path: workers.go
      linters:
      - cyclop
      - funlen
    - linters: [revive]
      text: "empty-block: this block is empty, you can remove it"
    - linters: [gosec]
      text: "Use of weak random number generator"
    - path: ^examples/
      linters: [forbidigo]
    - path: middleware.go
      linters: [godot]
      source: '\)\)$'
      

  disable:
    - unused # TODO: re-enable after tests/examples are finished

